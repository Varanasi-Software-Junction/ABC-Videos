<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Pure Cinema — Persistent Animation Chooser (Styled Select)</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#fff;--ink:#0f172a;--muted:#6b7280;
  --accent:#ffb703;--accent-dark:#d48a00;
  --card:#fbfbfb;--radius:12px;--maxw:1100px;
  --film-ease:cubic-bezier(.15,.9,.2,1);
  font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;
}
*{box-sizing:border-box}
body{margin:0;background:linear-gradient(180deg,#fff,#fcfbf8);color:var(--ink);}
.wrap{max-width:var(--maxw);margin:0 auto;padding:28px}

/* Header */
header.hero{display:flex;flex-direction:column;gap:14px;align-items:flex-start;padding:28px;border-radius:16px;
background:linear-gradient(180deg,rgba(255,183,3,0.06),rgba(255,255,255,0.02));margin-bottom:28px;
box-shadow:0 10px 30px rgba(2,6,23,0.04)}
.brand{display:flex;gap:14px;align-items:center}
.logo{width:64px;height:64px;border-radius:12px;display:grid;place-items:center;font-weight:800;
background:linear-gradient(135deg,var(--accent),var(--accent-dark));color:#082032;font-family:"Playfair Display",serif}
header h1{margin:0;font-family:"Playfair Display",serif;font-size:clamp(1.6rem,3.5vw,2.6rem)}
header p.lead{margin:0;color:var(--muted);max-width:70ch;font-size:1.03rem}

/* Media grid */
.videos{display:flex;flex-direction:column;gap:18px;margin-bottom:36px}
.card{background:var(--card);border-radius:var(--radius);padding:12px;display:flex;flex-direction:column;gap:10px;
box-shadow:0 8px 22px rgba(2,6,23,0.03);border:1px solid rgba(2,6,23,0.03);
opacity:0;transform:translateY(18px)scale(.994)rotateX(.6deg);
transition:opacity 520ms var(--film-ease),transform 520ms var(--film-ease);
position:relative}
.card.in-view{opacity:1;transform:translateY(-12px)scale(1.02)rotateX(.4deg);box-shadow:0 26px 48px rgba(2,6,23,0.12);}
.media-el{width:100%;border-radius:10px;overflow:hidden;background:#000;cursor:pointer}
.media-el img,.media-el video{width:100%;display:block;object-fit:cover}
.media-el video{pointer-events:none}

/* Random variants */
.card.r-fadeup{transform:translateY(20px)}
.card.r-fadeup.in-view{transform:translateY(-10px);opacity:1;transition:transform .5s var(--film-ease),opacity .5s var(--film-ease)}
.card.r-fadeleft{transform:translateX(-20px)}
.card.r-fadeleft.in-view{transform:translateX(0);opacity:1;transition:transform .5s var(--film-ease),opacity .5s var(--film-ease)}
.card.r-faderight{transform:translateX(20px)}
.card.r-faderight.in-view{transform:translateX(0);opacity:1;transition:transform .5s var(--film-ease),opacity .5s var(--film-ease)}
.card.r-zoomin{transform:scale(.96)}
.card.r-zoomin.in-view{transform:scale(1.03);opacity:1;transition:transform .5s var(--film-ease),opacity .5s var(--film-ease)}
.card.r-tiltin{transform:rotateX(6deg)translateY(10px)}
.card.r-tiltin.in-view{transform:rotateX(0)translateY(-6px);opacity:1;transition:transform .5s var(--film-ease),opacity .5s var(--film-ease)}

.view-badge{position:absolute;right:12px;top:12px;padding:6px 8px;border-radius:8px;font-weight:700;font-size:.8rem;
background:rgba(3,7,18,0.9);color:var(--accent);opacity:0;transform:translateY(-6px);
transition:opacity .25s ease,transform .25s ease}
.card.in-view .view-badge{opacity:1;transform:translateY(0)}
.preview-dot{width:8px;height:8px;border-radius:50%;background:var(--accent-dark);margin-left:8px;opacity:0;transform:scale(.9);
transition:opacity .22s ease,transform .22s ease}
.card.previewing .preview-dot{opacity:1;transform:scale(1)}

/* Developer Panel */
.dev-panel{
  position:fixed;left:12px;bottom:12px;
  background:rgba(2,6,23,0.9);
  color:#fff;padding:10px 14px;border-radius:10px;
  font-size:.9rem;z-index:9999;display:flex;gap:10px;align-items:center;
  box-shadow:0 4px 18px rgba(2,6,23,.4);
}
.dev-panel label{font-weight:700}
.dev-panel select{
  padding:6px 10px;
  border-radius:8px;
  border:1px solid rgba(0,0,0,.2);
  background:var(--accent);
  color:#082032;
  font-weight:700;
  cursor:pointer;
  appearance:none;
  box-shadow:0 3px 6px rgba(0,0,0,.15);
  transition:all .2s ease;
}
.dev-panel select:hover{background:var(--accent-dark);color:#fff}
.dev-panel select:focus{outline:2px solid var(--accent-dark);}

/* Mode-specific fadeonly, etc. */
:root[data-anim="fadeonly"] .card{transition:opacity .4s ease;transform:none}
:root[data-anim="fadeonly"] .card.in-view{opacity:1}
:root[data-anim="none"] .card{transition:none;opacity:1;transform:none}
</style>
</head>
<body data-anim="cinematic">
<div class="wrap">
<header class="hero">
  <div class="brand"><div class="logo">PC</div>
  <div><div style="font-weight:800">PURE CINEMA</div>
  <div class="small muted">Video showcase</div></div></div>
  <h1>Persistent Animation Chooser</h1>
  <p class="lead">Select your preferred reveal animation below — the setting will be remembered automatically.</p>
</header>

<section class="videos">
  <article class="card" data-type="video"><div class="view-badge">IN VIEW<span class="preview-dot"></span></div>
    <div class="media-el"><video playsinline preload="metadata" muted><source src="videos/0.webm" type="video/webm"></video></div></article>
  <article class="card" data-type="image"><div class="view-badge">IN VIEW</div>
    <div class="media-el"><img src="images/0.jpg" alt="Sample image"></div></article>
  <article class="card" data-type="video"><div class="view-badge">IN VIEW<span class="preview-dot"></span></div>
    <div class="media-el"><video playsinline preload="metadata" muted><source src="videos/1.webm" type="video/webm"></video></div></article>
  <article class="card" data-type="image"><div class="view-badge">IN VIEW</div>
    <div class="media-el"><img src="images/1.jpg" alt="Sample image"></div></article>
</section>
</div>

<div class="dev-panel">
  <label for="animSelect">Animation:</label>
  <select id="animSelect">
    <option value="cinematic">Cinematic</option>
    <option value="fadezoom">Fade & Zoom</option>
    <option value="fadeonly">Fade Only</option>
    <option value="none">None</option>
    <option value="random">Random</option>
  </select>
</div>

<script>
const animSelect=document.getElementById('animSelect');
const root=document.documentElement;

/* Restore saved mode */
const savedMode=localStorage.getItem('animationMode')||'cinematic';
root.setAttribute('data-anim',savedMode);
animSelect.value=savedMode;

/* Helpers */
function clearRandom(c){c.classList.remove('r-fadeup','r-fadeleft','r-faderight','r-zoomin','r-tiltin')}
function randClass(){return['r-fadeup','r-fadeleft','r-faderight','r-zoomin','r-tiltin'][Math.floor(Math.random()*5)]}
function applyMode(mode){
  root.setAttribute('data-anim',mode);
  localStorage.setItem('animationMode',mode);
  document.querySelectorAll('.card').forEach(c=>{
    clearRandom(c);
    if(mode==='random')c.classList.add(randClass());
  });
}

/* Change handler */
animSelect.addEventListener('change',e=>applyMode(e.target.value));

/* IntersectionObserver reveal */
const cards=[...document.querySelectorAll('.card')];
if('IntersectionObserver'in window){
 const obs=new IntersectionObserver(entries=>{
   entries.forEach(e=>{
     const c=e.target,vid=c.querySelector('video');
     if(e.isIntersecting){
       c.classList.add('in-view');
       if(vid&&!vid.__userPlayed){vid.play().catch(()=>{});c.classList.add('previewing');}
     }else{
       c.classList.remove('in-view','previewing');
       if(vid&&!vid.__userPlayed)vid.pause();
     }
   });
 },{threshold:.45,rootMargin:'0px 0px -30% 0px'});
 cards.forEach(c=>obs.observe(c));
}
</script>
</body>
</html>
